# ğŸ“± ModÃ¼l 07: Listeler - Uzun Verileri GÃ¶sterme

Bu modÃ¼lde uzun verileri listelemek iÃ§in **ScrollView** ve **FlatList** kullanmayÄ± Ã¶ÄŸreneceksin.

---

## 1. Problem: Ä°Ã§erik Ekrana SÄ±ÄŸmÄ±yor

Diyelim 50 tane Ã¼rÃ¼n gÃ¶stermek istiyorsun. Normal View ile yaparsan:
- Ä°Ã§erik ekranÄ±n dÄ±ÅŸÄ±na taÅŸar
- AÅŸaÄŸÄ± kaydÄ±ramazsÄ±n
- Alttaki iÃ§erikleri gÃ¶remezsin

Ã‡Ã¶zÃ¼m: **KaydÄ±rÄ±labilir** bileÅŸenler kullanmak.

---

## 2. ScrollView - Basit KaydÄ±rma

KÄ±sa listeler iÃ§in ScrollView kullanÄ±lÄ±r.

```tsx
import { ScrollView, View, Text, StyleSheet } from 'react-native';

export default function Index() {
  return (
    <ScrollView style={styles.container}>
      <View style={styles.card}><Text>Kart 1</Text></View>
      <View style={styles.card}><Text>Kart 2</Text></View>
      <View style={styles.card}><Text>Kart 3</Text></View>
      <View style={styles.card}><Text>Kart 4</Text></View>
      <View style={styles.card}><Text>Kart 5</Text></View>
      <View style={styles.card}><Text>Kart 6</Text></View>
      <View style={styles.card}><Text>Kart 7</Text></View>
      <View style={styles.card}><Text>Kart 8</Text></View>
      <View style={styles.card}><Text>Kart 9</Text></View>
      <View style={styles.card}><Text>Kart 10</Text></View>
    </ScrollView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    paddingTop: 60,
  },
  card: {
    backgroundColor: '#3498db',
    padding: 40,
    borderRadius: 10,
    marginBottom: 15,
  },
});
```

ArtÄ±k aÅŸaÄŸÄ± kaydÄ±rabilirsin!

### ScrollView Ã–zellikleri

```tsx
<ScrollView
  showsVerticalScrollIndicator={false}   // KaydÄ±rma Ã§ubuÄŸunu gizle
  horizontal={true}                        // Yatay kaydÄ±rma
  contentContainerStyle={{ padding: 20 }} // Ä°Ã§ iÃ§erik stili
>
```

---

## 3. ScrollView'un Sorunu

ScrollView tÃ¼m iÃ§eriÄŸi **aynÄ± anda** oluÅŸturur (render eder).

Mesela 1000 Ã¼rÃ¼nÃ¼n varsa:
- 1000 View oluÅŸturulur
- Hepsi bellekte tutulur
- Uygulama yavaÅŸlar, kasabilir

Ã‡Ã¶zÃ¼m: **FlatList**

---

## 4. FlatList - PerformanslÄ± Liste

FlatList, sadece **ekranda gÃ¶rÃ¼nen** elemanlarÄ± oluÅŸturur. AÅŸaÄŸÄ± kaydÄ±rdÄ±kÃ§a yenilerini oluÅŸturur, Ã§Ä±kanlarÄ± bellekten siler.

### En Basit FlatList

```tsx
import { FlatList, View, Text, StyleSheet } from 'react-native';

export default function Index() {
  // Veri
  const veriler = [
    { id: '1', isim: 'Elma' },
    { id: '2', isim: 'Armut' },
    { id: '3', isim: 'Muz' },
    { id: '4', isim: 'Ã‡ilek' },
    { id: '5', isim: 'Kivi' },
  ];

  return (
    <View style={styles.container}>
      <FlatList
        data={veriler}
        keyExtractor={(item) => item.id}
        renderItem={({ item }) => (
          <View style={styles.item}>
            <Text style={styles.text}>{item.isim}</Text>
          </View>
        )}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    paddingTop: 60,
  },
  item: {
    backgroundColor: '#3498db',
    padding: 20,
    marginHorizontal: 20,
    marginBottom: 10,
    borderRadius: 10,
  },
  text: {
    color: 'white',
    fontSize: 18,
  },
});
```

### ParÃ§a ParÃ§a AÃ§Ä±klama

```tsx
const veriler = [
  { id: '1', isim: 'Elma' },
  { id: '2', isim: 'Armut' },
  // ...
];
```
GÃ¶sterilecek veri. Her elemanÄ±n benzersiz bir `id`'si olmalÄ±.

```tsx
<FlatList
  data={veriler}
```
`data`: Hangi veriyi listele?

```tsx
  keyExtractor={(item) => item.id}
```
`keyExtractor`: Her elemanÄ± ayÄ±rt etmek iÃ§in hangi deÄŸer kullanÄ±lsÄ±n? (id kullanÄ±yoruz)

```tsx
  renderItem={({ item }) => (
    <View style={styles.item}>
      <Text>{item.isim}</Text>
    </View>
  )}
/>
```
`renderItem`: Her eleman nasÄ±l gÃ¶rÃ¼nsÃ¼n? `item` parametresi listedeki her bir Ã¶ÄŸeyi temsil eder.

---

## 5. Daha DetaylÄ± Kart TasarÄ±mÄ±

```tsx
import { FlatList, View, Text, Image, StyleSheet } from 'react-native';

export default function Index() {
  const urunler = [
    { id: '1', isim: 'iPhone 15', fiyat: 50000, stok: 25 },
    { id: '2', isim: 'MacBook Pro', fiyat: 75000, stok: 10 },
    { id: '3', isim: 'AirPods Pro', fiyat: 8000, stok: 50 },
    { id: '4', isim: 'Apple Watch', fiyat: 15000, stok: 30 },
    { id: '5', isim: 'iPad Air', fiyat: 25000, stok: 20 },
    { id: '6', isim: 'iMac', fiyat: 60000, stok: 5 },
    { id: '7', isim: 'Mac Mini', fiyat: 25000, stok: 15 },
    { id: '8', isim: 'HomePod', fiyat: 10000, stok: 8 },
  ];

  const renderUrun = ({ item, index }) => (
    <View style={styles.card}>
      <View style={styles.cardHeader}>
        <Text style={styles.sira}>#{index + 1}</Text>
        <Text style={styles.isim}>{item.isim}</Text>
      </View>
      <View style={styles.cardBody}>
        <Text style={styles.fiyat}>â‚º{item.fiyat.toLocaleString()}</Text>
        <Text style={styles.stok}>Stok: {item.stok}</Text>
      </View>
    </View>
  );

  return (
    <View style={styles.container}>
      <Text style={styles.title}>ğŸ›ï¸ ÃœrÃ¼nler</Text>
      <FlatList
        data={urunler}
        keyExtractor={(item) => item.id}
        renderItem={renderUrun}
        contentContainerStyle={styles.list}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f5f5f5',
    paddingTop: 60,
  },
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    paddingHorizontal: 20,
    marginBottom: 20,
  },
  list: {
    paddingHorizontal: 20,
    paddingBottom: 20,
  },
  card: {
    backgroundColor: 'white',
    borderRadius: 12,
    padding: 15,
    marginBottom: 12,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 1 },
    shadowOpacity: 0.1,
    shadowRadius: 2,
    elevation: 2,
  },
  cardHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 10,
  },
  sira: {
    backgroundColor: '#3498db',
    color: 'white',
    paddingHorizontal: 8,
    paddingVertical: 4,
    borderRadius: 5,
    fontSize: 12,
    fontWeight: 'bold',
    marginRight: 10,
  },
  isim: {
    fontSize: 18,
    fontWeight: '600',
    color: '#333',
  },
  cardBody: {
    flexDirection: 'row',
    justifyContent: 'space-between',
  },
  fiyat: {
    fontSize: 20,
    fontWeight: 'bold',
    color: '#27ae60',
  },
  stok: {
    fontSize: 14,
    color: '#666',
  },
});
```

### Yeni: index Parametresi

```tsx
const renderUrun = ({ item, index }) => (
```
`index`: ElemanÄ±n sÄ±ra numarasÄ± (0'dan baÅŸlar). `#{index + 1}` ile 1'den baÅŸlayan sÄ±ra gÃ¶sterebilirsin.

---

## 6. FlatList Ã–zellikleri

### Liste BaÅŸlÄ±ÄŸÄ±

```tsx
<FlatList
  data={veriler}
  keyExtractor={(item) => item.id}
  renderItem={renderItem}
  
  ListHeaderComponent={() => (
    <View style={styles.header}>
      <Text style={styles.headerText}>ÃœrÃ¼n Listesi</Text>
    </View>
  )}
/>
```

### BoÅŸ Liste MesajÄ±

```tsx
<FlatList
  data={veriler}
  keyExtractor={(item) => item.id}
  renderItem={renderItem}
  
  ListEmptyComponent={() => (
    <View style={styles.empty}>
      <Text>HenÃ¼z Ã¼rÃ¼n yok ğŸ˜•</Text>
    </View>
  )}
/>
```

### Elemanlar ArasÄ± AyÄ±rÄ±cÄ±

```tsx
<FlatList
  data={veriler}
  keyExtractor={(item) => item.id}
  renderItem={renderItem}
  
  ItemSeparatorComponent={() => (
    <View style={{ height: 1, backgroundColor: '#eee' }} />
  )}
/>
```

---

## 7. Ã‡ekip Yenileme (Pull to Refresh)

Listeyi aÅŸaÄŸÄ± Ã§ekerek yenileme:

```tsx
import { useState } from 'react';
import { FlatList, View, Text, StyleSheet } from 'react-native';

export default function Index() {
  const [veriler, setVeriler] = useState([
    { id: '1', isim: 'Ã–ÄŸe 1' },
    { id: '2', isim: 'Ã–ÄŸe 2' },
    { id: '3', isim: 'Ã–ÄŸe 3' },
  ]);
  const [yenileniyor, setYenileniyor] = useState(false);

  const yenile = () => {
    setYenileniyor(true);
    
    // 2 saniye bekle (gerÃ§ek uygulamada API Ã§aÄŸrÄ±sÄ± olur)
    setTimeout(() => {
      // Yeni veri ekle
      const yeniId = Date.now().toString();
      setVeriler([{ id: yeniId, isim: `Yeni Ã–ÄŸe ${yeniId.slice(-4)}` }, ...veriler]);
      setYenileniyor(false);
    }, 2000);
  };

  return (
    <View style={styles.container}>
      <FlatList
        data={veriler}
        keyExtractor={(item) => item.id}
        renderItem={({ item }) => (
          <View style={styles.item}>
            <Text>{item.isim}</Text>
          </View>
        )}
        refreshing={yenileniyor}     // Yenileme animasyonu
        onRefresh={yenile}            // Yenileme fonksiyonu
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    paddingTop: 60,
  },
  item: {
    backgroundColor: 'white',
    padding: 20,
    marginHorizontal: 20,
    marginBottom: 10,
    borderRadius: 10,
    borderWidth: 1,
    borderColor: '#eee',
  },
});
```

### AÃ§Ä±klama

```tsx
refreshing={yenileniyor}
```
`true` olduÄŸunda Ã¼stte dÃ¶nen yÃ¼kleme simgesi gÃ¶rÃ¼nÃ¼r.

```tsx
onRefresh={yenile}
```
KullanÄ±cÄ± listeyi aÅŸaÄŸÄ± Ã§ektiÄŸinde bu fonksiyon Ã§alÄ±ÅŸÄ±r.

---

## 8. Yatay Liste

```tsx
<FlatList
  data={veriler}
  keyExtractor={(item) => item.id}
  renderItem={renderItem}
  horizontal={true}                    // Yatay kaydÄ±rma
  showsHorizontalScrollIndicator={false}
/>
```

### Ã–rnek: Hikaye/Story Listesi

```tsx
import { FlatList, View, Text, Image, StyleSheet } from 'react-native';

export default function Index() {
  const hikayeler = [
    { id: '1', isim: 'Ali', renk: '#e74c3c' },
    { id: '2', isim: 'AyÅŸe', renk: '#3498db' },
    { id: '3', isim: 'Mehmet', renk: '#27ae60' },
    { id: '4', isim: 'Zeynep', renk: '#9b59b6' },
    { id: '5', isim: 'Can', renk: '#f39c12' },
    { id: '6', isim: 'Elif', renk: '#1abc9c' },
  ];

  return (
    <View style={styles.container}>
      <Text style={styles.title}>Hikayeler</Text>
      
      <FlatList
        data={hikayeler}
        keyExtractor={(item) => item.id}
        horizontal={true}
        showsHorizontalScrollIndicator={false}
        contentContainerStyle={styles.storyList}
        renderItem={({ item }) => (
          <View style={styles.storyItem}>
            <View style={[styles.storyCircle, { borderColor: item.renk }]}>
              <View style={[styles.storyInner, { backgroundColor: item.renk }]}>
                <Text style={styles.storyInitial}>{item.isim[0]}</Text>
              </View>
            </View>
            <Text style={styles.storyName}>{item.isim}</Text>
          </View>
        )}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    paddingTop: 60,
  },
  title: {
    fontSize: 20,
    fontWeight: 'bold',
    paddingHorizontal: 20,
    marginBottom: 15,
  },
  storyList: {
    paddingHorizontal: 15,
  },
  storyItem: {
    alignItems: 'center',
    marginHorizontal: 8,
  },
  storyCircle: {
    width: 70,
    height: 70,
    borderRadius: 35,
    borderWidth: 3,
    padding: 3,
  },
  storyInner: {
    flex: 1,
    borderRadius: 30,
    justifyContent: 'center',
    alignItems: 'center',
  },
  storyInitial: {
    color: 'white',
    fontSize: 24,
    fontWeight: 'bold',
  },
  storyName: {
    marginTop: 5,
    fontSize: 12,
    color: '#333',
  },
});
```

---

## 9. Grid (Izgara) GÃ¶rÃ¼nÃ¼mÃ¼

```tsx
import { FlatList, View, Text, StyleSheet, Dimensions } from 'react-native';

const { width } = Dimensions.get('window');
const ITEM_SIZE = (width - 60) / 2;  // 2 sÃ¼tun, 60px padding

export default function Index() {
  const kategoriler = [
    { id: '1', isim: 'Elektronik', emoji: 'ğŸ“±' },
    { id: '2', isim: 'Giyim', emoji: 'ğŸ‘•' },
    { id: '3', isim: 'Ev', emoji: 'ğŸ ' },
    { id: '4', isim: 'Spor', emoji: 'âš½' },
    { id: '5', isim: 'Kitap', emoji: 'ğŸ“š' },
    { id: '6', isim: 'Oyuncak', emoji: 'ğŸ®' },
  ];

  return (
    <View style={styles.container}>
      <Text style={styles.title}>Kategoriler</Text>
      
      <FlatList
        data={kategoriler}
        keyExtractor={(item) => item.id}
        numColumns={2}                    // 2 sÃ¼tun
        contentContainerStyle={styles.grid}
        renderItem={({ item }) => (
          <View style={styles.gridItem}>
            <Text style={styles.emoji}>{item.emoji}</Text>
            <Text style={styles.itemName}>{item.isim}</Text>
          </View>
        )}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    paddingTop: 60,
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    paddingHorizontal: 20,
    marginBottom: 20,
  },
  grid: {
    paddingHorizontal: 20,
  },
  gridItem: {
    width: ITEM_SIZE,
    height: ITEM_SIZE,
    backgroundColor: '#f0f0f0',
    borderRadius: 15,
    margin: 5,
    justifyContent: 'center',
    alignItems: 'center',
  },
  emoji: {
    fontSize: 40,
    marginBottom: 10,
  },
  itemName: {
    fontSize: 14,
    fontWeight: '600',
    color: '#333',
  },
});
```

### numColumns

```tsx
numColumns={2}  // 2 sÃ¼tunlu grid
numColumns={3}  // 3 sÃ¼tunlu grid
```

---

## ğŸ“ Bu ModÃ¼lde Ã–ÄŸrendiklerin

| BileÅŸen | Ne Zaman Kullan? |
|---------|------------------|
| ScrollView | KÄ±sa, sabit listeler |
| FlatList | Uzun, dinamik listeler |

### FlatList Temel Ã–zellikleri

| Ã–zellik | AÃ§Ä±klama |
|---------|----------|
| `data` | GÃ¶sterilecek veri array'i |
| `keyExtractor` | Her elemanÄ±n benzersiz anahtarÄ± |
| `renderItem` | Eleman nasÄ±l gÃ¶rÃ¼nsÃ¼n |
| `horizontal` | Yatay kaydÄ±rma |
| `numColumns` | Grid iÃ§in sÃ¼tun sayÄ±sÄ± |
| `refreshing` + `onRefresh` | Pull to refresh |
| `ListHeaderComponent` | Liste baÅŸlÄ±ÄŸÄ± |
| `ListEmptyComponent` | BoÅŸ liste mesajÄ± |

---

## âœ… Kontrol Listesi

- [ ] ScrollView ve FlatList farkÄ±nÄ± anladÄ±m
- [ ] FlatList'in neden daha performanslÄ± olduÄŸunu anladÄ±m
- [ ] data, keyExtractor, renderItem'Ä± anlÄ±yorum
- [ ] Pull to refresh yapabiliyorum
- [ ] Yatay liste yapabiliyorum
- [ ] Grid gÃ¶rÃ¼nÃ¼mÃ¼ yapabiliyorum

---

## ğŸ”— Sonraki ModÃ¼l

[ModÃ¼l 08: Navigasyon - Sayfalar ArasÄ± GeÃ§iÅŸ â†’](../08-navigasyon/README.md)
